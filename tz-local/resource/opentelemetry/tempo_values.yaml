ingester:
  persistence:
    enabled: true
    size: 10Gi
    storageClass: nfs-client
traces:
  otlp:
    http:
      enabled: true
      receiverConfig: {}
    grpc:
      enabled: true
      receiverConfig: {}

storage:
  trace:
    block:
      version: vParquet4
    backend: s3
    s3:
      bucket: tempo-k8s-vagrant
      endpoint: minio.devops.svc.cluster.local:9000
#      region: ap-northeast-2
      access_key: minio_access_key_id
      secret_key: minio_secret_access_key
      insecure: true
  admin:
    backend: filesystem

compactor:
  replicas: 1

# gRPC 메시지 크기 제한 상향 (default 4MB → 200MB)
# trace 조회 시 "grpc: received message after decompression larger than max 4194304" 오류 방지
server:
  grpc_server_max_recv_msg_size: 209715200  # 200MB
  grpc_server_max_send_msg_size: 209715200  # 200MB

querier:
  config:
    frontend_worker:
      grpc_client_config:
        max_recv_msg_size: 209715200
        max_send_msg_size: 209715200

#  storageClass: gp2
#  storage: 50Gi
#  accessModes: [ "ReadWriteOnce" ]
#  storageClassName: "gp2"
